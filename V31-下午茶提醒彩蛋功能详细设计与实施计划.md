# V31-ä¸‹åˆèŒ¶æé†’å½©è›‹åŠŸèƒ½è¯¦ç»†è®¾è®¡ä¸å®æ–½è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡æˆåŠŸè§¦å‘ä¸­æ–‡ç‰ˆä¸‹åˆèŒ¶æé†’æ—¶ï¼Œé™¤äº†å³ä¸Šè§’æé†’å¤–ï¼ŒåŒæ—¶åœ¨å±å¹•ä¸­é—´å¼¹å‡ºä¸€ä¸ªå½©è›‹å¼¹çª—ï¼ŒåŒ…å«æ¢—å›¾å±•ç¤ºå’Œåˆ†äº«åŠŸèƒ½ï¼Œå¼•å¯¼ç”¨æˆ·åˆ†äº«å¹¶è§£é”ç¬¬äºŒä¸ªå½©è›‹ã€‚

## ğŸ¯ MVPåŠŸèƒ½ç›®æ ‡

### æ ¸å¿ƒåŠŸèƒ½
1. **é¦–æ¬¡è§¦å‘æ£€æµ‹**: æ£€æµ‹ç”¨æˆ·ç¬¬ä¸€æ¬¡æˆåŠŸè§¦å‘ä¸‹åˆèŒ¶æé†’
2. **å½©è›‹å¼¹çª—**: å±å¹•ä¸­é—´å¼¹å‡ºæ¨¡æ€æ¡†æ˜¾ç¤ºæ­å–œä¿¡æ¯
3. **æ¢—å›¾å±•ç¤º**: æ˜¾ç¤º `drink_tea.jpeg` æ¢—å›¾
4. **åˆ†äº«æŒ‰é’®**: ä¸¤ä¸ªåˆ†äº«æŒ‰é’®ï¼ˆæœ‹å‹åœˆ/å¾®ä¿¡ã€å°çº¢ä¹¦ï¼‰
5. **äºŒç»´ç ç”Ÿæˆ**: ç”Ÿæˆå¸¦ä¸­æ–‡ç‰ˆè‡ªå®šä¹‰åŸŸåé“¾æ¥çš„äºŒç»´ç 
6. **ç¬¬äºŒä¸ªå½©è›‹è§£é”**: ç‚¹å‡»ä»»ä¸€æŒ‰é’®è§£é”ç¬¬äºŒä¸ªå½©è›‹æç¤º

### éæ ¸å¿ƒåŠŸèƒ½ï¼ˆåç»­è¿­ä»£ï¼‰
- å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½
- ç¤¾äº¤åª’ä½“ç›´æ¥åˆ†äº«API
- å¤šè¯­è¨€æ”¯æŒ
- é«˜çº§å›¾ç‰‡æ»¤é•œ

## ğŸ¨ UI/UXè®¾è®¡

### å¼¹çª—è®¾è®¡ï¼ˆæç®€é£æ ¼ï¼‰
```css
.tea-easter-egg-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 480px;
    max-width: 90vw;
    background: var(--background-primary);
    border-radius: 12px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
    z-index: 2147483647;
    padding: 24px;
    animation: bounceIn 0.3s ease-out;
}

.tea-easter-egg-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 2147483646;
    animation: backdropFadeIn 0.3s ease-out;
}
```

### æŒ‰é’®è®¾è®¡ï¼ˆå¤ç”¨ç°æœ‰æ ·å¼ï¼‰
```css
.tea-share-button {
    flex: 1;
    padding: 12px 16px;
    border: 2px solid var(--primary-color);
    border-radius: 6px;
    background: transparent;
    color: var(--primary-color);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
}

.tea-share-button:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-1px);
}
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ–‡ä»¶ç»“æ„
```
js/
  â”œâ”€â”€ afternoon-tea-easter-egg.js    # å½©è›‹ä¸»æ§åˆ¶å™¨
  â”œâ”€â”€ easter-egg-ui.js              # UIç»„ä»¶
  â””â”€â”€ image-generator.js            # å›¾ç‰‡ç”Ÿæˆå·¥å…·

styles/
  â””â”€â”€ easter-egg.css                # å½©è›‹æ ·å¼
```

### æ ¸å¿ƒç±»è®¾è®¡

#### 1. AfternoonTeaEasterEgg (å½©è›‹ä¸»æ§åˆ¶å™¨)
```javascript
class AfternoonTeaEasterEgg {
    constructor() {
        this.hasTriggered = false;
        this.storageKey = 'afternoonTeaEasterEggTriggered';
        this.ui = new EasterEggUI();
    }
    
    // æ£€æŸ¥å¹¶è§¦å‘å½©è›‹
    checkFirstTimeTrigger() {
        if (!this.hasTriggered && !localStorage.getItem(this.storageKey)) {
            this.triggerEasterEgg();
        }
    }
    
    // è§¦å‘å½©è›‹æ˜¾ç¤º
    triggerEasterEgg() {
        this.hasTriggered = true;
        localStorage.setItem(this.storageKey, 'true');
        this.ui.showEasterEggModal();
    }
}
```

#### 2. EasterEggUI (UIæ§åˆ¶å™¨)
```javascript
class EasterEggUI {
    constructor() {
        this.modal = null;
        this.backdrop = null;
    }
    
    // åˆ›å»ºå½©è›‹å¼¹çª—
    showEasterEggModal() {
        this.createModal();
        this.createBackdrop();
        this.attachEventListeners();
    }
    
    // åˆ›å»ºåˆ†äº«æŒ‰é’®
    createShareButtons() {
        return `
            <div class="tea-share-buttons">
                <button class="tea-share-button wechat-share" data-platform="wechat">
                    ğŸ’¬ ä¿å­˜åˆ†äº«åˆ°æœ‹å‹åœˆ/å¾®ä¿¡
                </button>
                <button class="tea-share-button xiaohongshu-share" data-platform="xiaohongshu">
                    ğŸ“ ç”Ÿæˆç¬”è®°å‘åˆ°å°çº¢ä¹¦
                </button>
            </div>
        `;
    }
}
```

#### 3. ImageGenerator (å›¾ç‰‡ç”Ÿæˆå™¨)
```javascript
class ImageGenerator {
    constructor() {
        this.canvas = document.createElement('canvas');
        this.ctx = this.canvas.getContext('2d');
    }
    
    // ç”Ÿæˆåˆ†äº«å›¾ç‰‡
    generateShareImage(memeImage, qrCodeImage) {
        // åˆæˆæ¢—å›¾å’ŒäºŒç»´ç 
        return this.compositeImages(memeImage, qrCodeImage);
    }
    
    // ä¸‹è½½å›¾ç‰‡
    downloadImage(dataUrl, filename) {
        const link = document.createElement('a');
        link.href = dataUrl;
        link.download = filename;
        link.click();
    }
}
```

## ğŸ”§ é›†æˆæ–¹æ¡ˆ

### 1. ä¸ç°æœ‰ä¸‹åˆèŒ¶æé†’é›†æˆ
åœ¨ `afternoon-tea-reminder.js` çš„ `triggerAfternoonTea()` æ–¹æ³•ä¸­æ·»åŠ ï¼š

```javascript
triggerAfternoonTea() {
    // ... åŸæœ‰é€»è¾‘ ...
    
    // æ£€æŸ¥å¹¶è§¦å‘å½©è›‹
    if (window.app && window.app.afternoonTeaEasterEgg) {
        window.app.afternoonTeaEasterEgg.checkFirstTimeTrigger();
    }
    
    // ... ç»§ç»­åŸæœ‰é€»è¾‘ ...
}
```

### 2. åº”ç”¨åˆå§‹åŒ–é›†æˆ
åœ¨ `app.js` çš„åˆå§‹åŒ–æµç¨‹ä¸­æ·»åŠ ï¼š

```javascript
initializeAfternoonTeaEasterEgg() {
    try {
        this.afternoonTeaEasterEgg = new AfternoonTeaEasterEgg();
        window.afternoonTeaEasterEgg = this.afternoonTeaEasterEgg;
        console.log('ğŸµ ä¸‹åˆèŒ¶å½©è›‹åŠŸèƒ½åˆå§‹åŒ–æˆåŠŸ');
    } catch (error) {
        console.error('ğŸµ ä¸‹åˆèŒ¶å½©è›‹åŠŸèƒ½åˆå§‹åŒ–å¤±è´¥:', error);
    }
}
```

## ğŸ¯ ç”¨æˆ·æµç¨‹

### é¦–æ¬¡è§¦å‘æµç¨‹
1. ç”¨æˆ·é¦–æ¬¡åœ¨15:15è§¦å‘ä¸‹åˆèŒ¶æé†’
2. å³ä¸Šè§’æ˜¾ç¤ºå¸¸è§„é€šçŸ¥
3. å±å¹•ä¸­é—´å¼¹å‡ºå½©è›‹å¼¹çª—
4. æ˜¾ç¤ºæ­å–œä¿¡æ¯å’Œæ¢—å›¾
5. æä¾›ä¸¤ä¸ªåˆ†äº«æŒ‰é’®
6. ç”¨æˆ·ç‚¹å‡»ä»»ä¸€æŒ‰é’®
7. ç”Ÿæˆå¸¦äºŒç»´ç çš„åˆ†äº«å›¾ç‰‡
8. æ˜¾ç¤ºç¬¬äºŒä¸ªå½©è›‹è§£é”æç¤º
9. é¼“åŠ±ç”¨æˆ·æ˜å¤©ä¸­åˆç•™æ„

### å¼¹çª—å†…å®¹
```html
<div class="tea-easter-egg-modal">
    <h2>ğŸ‰ æ­å–œæˆåŠŸè§£é”ä¸‹åˆèŒ¶æé†’å½©è›‹ï¼</h2>
    <div class="tea-meme-image">
        <img src="assets/drink_tea.jpeg" alt="é¥®èŒ¶æ¢—å›¾">
    </div>
    <p>åˆ†äº«è¿™ä¸ªæœ‰è¶£çš„æ—¶åˆ»ï¼Œè®©æ›´å¤šæœ‹å‹ä¸€èµ·æ¥é¥®èŒ¶ï¼</p>
    
    <div class="tea-share-buttons">
        <button class="tea-share-button wechat-share">
            ğŸ’¬ ä¿å­˜åˆ†äº«åˆ°æœ‹å‹åœˆ/å¾®ä¿¡
        </button>
        <button class="tea-share-button xiaohongshu-share">
            ğŸ“ ç”Ÿæˆç¬”è®°å‘åˆ°å°çº¢ä¹¦
        </button>
    </div>
    
    <div class="tea-unlock-hint" style="display: none;">
        <p>âœ¨ ç¬¬äºŒä¸ªå½©è›‹å·²è§£é”ï¼æ˜å¤©ä¸­åˆè®°å¾—ç•™æ„å“¦ï½</p>
    </div>
</div>
```

## ğŸ“Š æ•°æ®å­˜å‚¨

### LocalStorage é”®å€¼
```javascript
const STORAGE_KEYS = {
    EASTER_EGG_TRIGGERED: 'afternoonTeaEasterEggTriggered',
    SECOND_EGG_UNLOCKED: 'afternoonTeaSecondEggUnlocked'
};
```

### çŠ¶æ€ç®¡ç†
- `hasTriggered`: å½“å‰ä¼šè¯æ˜¯å¦å·²è§¦å‘
- `localStorage`: æŒä¹…åŒ–å­˜å‚¨è§¦å‘çŠ¶æ€
- `secondEggUnlocked`: ç¬¬äºŒä¸ªå½©è›‹è§£é”çŠ¶æ€

## ğŸš€ å®æ–½è®¡åˆ’

### é˜¶æ®µ1ï¼šåŸºç¡€æ¶æ„ (2å°æ—¶)
1. åˆ›å»ºæ ¸å¿ƒæ–‡ä»¶ç»“æ„
2. å®ç°å½©è›‹ä¸»æ§åˆ¶å™¨
3. è®¾è®¡UIç»„ä»¶æ¡†æ¶
4. é›†æˆåˆ°åº”ç”¨åˆå§‹åŒ–

### é˜¶æ®µ2ï¼šUIå®ç° (3å°æ—¶)
1. å®ç°å¼¹çª—ç»„ä»¶
2. è®¾è®¡æç®€é£æ ¼æ ·å¼
3. æ·»åŠ åŠ¨ç”»æ•ˆæœ
4. å®ç°å“åº”å¼è®¾è®¡

### é˜¶æ®µ3ï¼šåŠŸèƒ½å®Œå–„ (2å°æ—¶)
1. å®ç°å›¾ç‰‡ç”ŸæˆåŠŸèƒ½
2. æ·»åŠ äºŒç»´ç ç”Ÿæˆ
3. å®ç°ä¸‹è½½åŠŸèƒ½
4. æ·»åŠ äº‹ä»¶å¤„ç†

### é˜¶æ®µ4ï¼šæµ‹è¯•ä¼˜åŒ– (1å°æ—¶)
1. è·¨æµè§ˆå™¨æµ‹è¯•
2. ç§»åŠ¨ç«¯é€‚é…
3. æ€§èƒ½ä¼˜åŒ–
4. é”™è¯¯å¤„ç†

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### åŠŸèƒ½æµ‹è¯•
- é¦–æ¬¡è§¦å‘æ£€æµ‹
- å¼¹çª—æ˜¾ç¤º
- æŒ‰é’®ç‚¹å‡»
- å›¾ç‰‡ç”Ÿæˆ
- çŠ¶æ€æŒä¹…åŒ–

### UIæµ‹è¯•
- å“åº”å¼è®¾è®¡
- åŠ¨ç”»æ•ˆæœ
- è§†è§‰ä¸€è‡´æ€§
- ç”¨æˆ·ä½“éªŒ

### å…¼å®¹æ€§æµ‹è¯•
- Chrome/Firefox/Safari/Edge
- ç§»åŠ¨ç«¯æµè§ˆå™¨
- ä¸åŒå±å¹•å°ºå¯¸

## ğŸ“ˆ åˆ†æç»Ÿè®¡

### äº‹ä»¶è¿½è¸ª
```javascript
// å½©è›‹è§¦å‘ç»Ÿè®¡
window.app.analytics.trackEasterEggTriggered('afternoon_tea_easter_egg', 'zh-CN');

// åˆ†äº«æŒ‰é’®ç‚¹å‡»ç»Ÿè®¡
window.app.analytics.trackShareButtonClick(platform);

// ç¬¬äºŒä¸ªå½©è›‹è§£é”ç»Ÿè®¡
window.app.analytics.trackSecondEggUnlocked();
```

## ğŸ”’ éšç§ä¸å®‰å…¨

- ä¸æ”¶é›†ç”¨æˆ·ä¸ªäººä¿¡æ¯
- æ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨
- æ— ç¬¬ä¸‰æ–¹è·Ÿè¸ª
- é€æ˜æ•°æ®ä½¿ç”¨

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### ä¸»è¦æŒ‡æ ‡
- å½©è›‹è§¦å‘ç‡
- åˆ†äº«æŒ‰é’®ç‚¹å‡»ç‡
- ç¬¬äºŒä¸ªå½©è›‹è§£é”ç‡

### æ¬¡è¦æŒ‡æ ‡
- ç”¨æˆ·åœç•™æ—¶é—´
- åˆ†äº«è½¬åŒ–ç‡
- ç”¨æˆ·åé¦ˆ

## ğŸ“ åç»­ä¼˜åŒ–

### çŸ­æœŸä¼˜åŒ–
- æ·»åŠ æ›´å¤šæ¢—å›¾é€‰æ‹©
- ä¼˜åŒ–å›¾ç‰‡ç”Ÿæˆè´¨é‡
- æ·»åŠ åˆ†äº«è®¡æ•°

### é•¿æœŸè§„åˆ’
- ç¤¾äº¤åª’ä½“APIé›†æˆ
- ç”¨æˆ·ç”Ÿæˆå†…å®¹
- å½©è›‹æˆå°±ç³»ç»Ÿ
- å¤šè¯­è¨€æ”¯æŒ

---

## âœ… éªŒæ”¶æ ‡å‡†

- [ ] é¦–æ¬¡è§¦å‘æ­£ç¡®æ£€æµ‹
- [ ] å¼¹çª—æ­£å¸¸æ˜¾ç¤º
- [ ] æ¢—å›¾æ­£ç¡®åŠ è½½
- [ ] åˆ†äº«æŒ‰é’®åŠŸèƒ½æ­£å¸¸
- [ ] äºŒç»´ç ç”Ÿæˆæ­£ç¡®
- [ ] ç¬¬äºŒä¸ªå½©è›‹è§£é”æç¤º
- [ ] çŠ¶æ€æŒä¹…åŒ–æ­£ç¡®
- [ ] å“åº”å¼è®¾è®¡å®Œå–„
- [ ] æ€§èƒ½ä¼˜åŒ–è¾¾æ ‡
- [ ] é”™è¯¯å¤„ç†å¥å…¨

æ­¤è®¡åˆ’éµå¾ªMVPåŸåˆ™ï¼Œä¸“æ³¨äºæ ¸å¿ƒåŠŸèƒ½çš„å¿«é€Ÿå®ç°ï¼ŒåŒæ—¶ä¸ºåç»­è¿­ä»£é¢„ç•™äº†æ‰©å±•ç©ºé—´ã€‚